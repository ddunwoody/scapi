<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_45) on Wed Jul 30 13:52:57 IDT 2014 -->
<TITLE>
CommunicationSetup
</TITLE>

<META NAME="date" CONTENT="2014-07-30">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="CommunicationSetup";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/CommunicationSetup.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../edu/biu/scapi/comm/CliqueSuccess.html" title="class in edu.biu.scapi.comm"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../edu/biu/scapi/comm/ConnectivitySuccessVerifier.html" title="interface in edu.biu.scapi.comm"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?edu/biu/scapi/comm/CommunicationSetup.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="CommunicationSetup.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
edu.biu.scapi.comm</FONT>
<BR>
Class CommunicationSetup</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>edu.biu.scapi.comm.CommunicationSetup</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD>org.apache.commons.exec.TimeoutObserver</DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>CommunicationSetup</B><DT>extends java.lang.Object<DT>implements org.apache.commons.exec.TimeoutObserver</DL>
</PRE>

<P>
The CommunicationSetup class is the heart of the Communications Layer. The Communications Layer package is a tool used by a client that is interested in setting up connections 
 between itself and other parties. As such, this layer does not initiate any independent tasks, but the opposite. Given a list of parties, it attempts to set connections to them 
 according to parameters given by the calling application. If succeeds, it returns these connections so that the calling client can send and receive data over them.<p>
 An application written for running an MPC protocol can be the client of the Communications Layer. An example of a possible usage follows:<p>
 <ul>
 <li>Instantiate an object of type CommunicationSetup.</li>
 <li>Call the prepareForCommunication method of that object with a list of parties to connect to and other setup parameters. (prepareForCommunication is the only public method of this class).</li>
 <li>Get from prepareForCommunication a container holding all ready connections.</li>
 <li>Start the MPC protocol.</li> 
 <li>Call the send and receive methods of the ready connections as needed by the MPC.</li>
 </ul>
 The application may be interested in putting each connection in a different thread but it is up to the application to do so and not the responsibility of the Communications Layer. This provides more flexibility of use.
 The Communications Layer encapsulates the stage of connecting to other parties. In actuality, the connection to other parties is performed in a few steps, which are not visible to the outside user.
 These steps are:<p>
 <ul> 
 <li>create an actual TCP connection with each party</li>
 <li>exchange keys between my party and other parties</li>
 <li>run a protocol that checks (for different types of required success) if all the necessary connections were set between my party and other parties.</li>
 </ul>
 In the end, the Communications Layer via the CommunicationSetup class returns to the calling application, a set of connected and ready channels to be used throughout a cryptographic protocol.<br/>
 From this point onwards, the application can send and receive messages in each connection as required by the protocol.<p>
 CommunicationSetup implements the org.apache.commons.exec.TimeoutObserver interface. 
 This interface supplies a mechanism for notifying classes that a timeout has arrived.
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>Cryptography and Computer Security Research Group Department of Computer Science Bar-Ilan University</DD>
</DL>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../edu/biu/scapi/comm/CommunicationSetup.html#CommunicationSetup()">CommunicationSetup</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create a CommunicationSetup instance which is the heart of the Communication Layer.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Map&lt;java.net.InetSocketAddress,<A HREF="../../../../edu/biu/scapi/comm/Channel.html" title="interface in edu.biu.scapi.comm">Channel</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/biu/scapi/comm/CommunicationSetup.html#prepareForCommunication(java.util.List, edu.biu.scapi.comm.ConnectivitySuccessVerifier, long)">prepareForCommunication</A></B>(java.util.List&lt;<A HREF="../../../../edu/biu/scapi/comm/Party.html" title="class in edu.biu.scapi.comm">Party</A>&gt;&nbsp;listOfParties,
                        <A HREF="../../../../edu/biu/scapi/comm/ConnectivitySuccessVerifier.html" title="interface in edu.biu.scapi.comm">ConnectivitySuccessVerifier</A>&nbsp;successLevel,
                        long&nbsp;timeOut)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;An application that wants to use the communication layer will call this function in order to prepare for communication after providing the required parameters.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Map&lt;java.net.InetSocketAddress,<A HREF="../../../../edu/biu/scapi/comm/Channel.html" title="interface in edu.biu.scapi.comm">Channel</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/biu/scapi/comm/CommunicationSetup.html#prepareForCommunication(java.util.List, edu.biu.scapi.comm.ConnectivitySuccessVerifier, long, boolean)">prepareForCommunication</A></B>(java.util.List&lt;<A HREF="../../../../edu/biu/scapi/comm/Party.html" title="class in edu.biu.scapi.comm">Party</A>&gt;&nbsp;listOfParties,
                        <A HREF="../../../../edu/biu/scapi/comm/ConnectivitySuccessVerifier.html" title="interface in edu.biu.scapi.comm">ConnectivitySuccessVerifier</A>&nbsp;successLevel,
                        long&nbsp;timeOut,
                        boolean&nbsp;enableNagle)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;An application that wants to use the communication layer will call this function in order to prepare for communication after providing the required parameters.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/biu/scapi/comm/CommunicationSetup.html#timeoutOccured(org.apache.commons.exec.Watchdog)">timeoutOccured</A></B>(org.apache.commons.exec.Watchdog&nbsp;w)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This function is called by the infrastructure of the Watchdog if the previously set timeout has passed.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="CommunicationSetup()"><!-- --></A><H3>
CommunicationSetup</H3>
<PRE>
public <B>CommunicationSetup</B>()</PRE>
<DL>
<DD>Create a CommunicationSetup instance which is the heart of the Communication Layer.
<P>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="prepareForCommunication(java.util.List, edu.biu.scapi.comm.ConnectivitySuccessVerifier, long, boolean)"><!-- --></A><H3>
prepareForCommunication</H3>
<PRE>
public java.util.Map&lt;java.net.InetSocketAddress,<A HREF="../../../../edu/biu/scapi/comm/Channel.html" title="interface in edu.biu.scapi.comm">Channel</A>&gt; <B>prepareForCommunication</B>(java.util.List&lt;<A HREF="../../../../edu/biu/scapi/comm/Party.html" title="class in edu.biu.scapi.comm">Party</A>&gt;&nbsp;listOfParties,
                                                                                 <A HREF="../../../../edu/biu/scapi/comm/ConnectivitySuccessVerifier.html" title="interface in edu.biu.scapi.comm">ConnectivitySuccessVerifier</A>&nbsp;successLevel,
                                                                                 long&nbsp;timeOut,
                                                                                 boolean&nbsp;enableNagle)</PRE>
<DL>
<DD>An application that wants to use the communication layer will call this function in order to prepare for communication after providing the required parameters. 
 This function initiates the creation of the final actual socket connections between the parties. If this function succeeds, the 
 application may use the send and receive functions of the created channels to pass messages.<p> 
 Note that using this function you can choose to use or not to use the Nagle algorithm.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>listOfParties</CODE> - the original list of parties to connect to. As a convention, we will set the <B>first party</B> in the list to be the <B>requesting party</B>, that is, 
                                                the party represented by the application.<DD><CODE>successLevel</CODE> - the ConnectivitySuccessVerifier algorithm to use<DD><CODE>timeOut</CODE> - the maximum amount of time we allow for the connection stage<DD><CODE>enableNagle</CODE> - a flag indicating weather or not to use the Nagle optimization algorithm. For Cryptographic algorithms is better to have it disabled
<DT><B>Returns:</B><DD>a set of connected and ready channels to be used by the parties to send and receive data, it may be null if none succeeded</DL>
</DD>
</DL>
<HR>

<A NAME="prepareForCommunication(java.util.List, edu.biu.scapi.comm.ConnectivitySuccessVerifier, long)"><!-- --></A><H3>
prepareForCommunication</H3>
<PRE>
public java.util.Map&lt;java.net.InetSocketAddress,<A HREF="../../../../edu/biu/scapi/comm/Channel.html" title="interface in edu.biu.scapi.comm">Channel</A>&gt; <B>prepareForCommunication</B>(java.util.List&lt;<A HREF="../../../../edu/biu/scapi/comm/Party.html" title="class in edu.biu.scapi.comm">Party</A>&gt;&nbsp;listOfParties,
                                                                                 <A HREF="../../../../edu/biu/scapi/comm/ConnectivitySuccessVerifier.html" title="interface in edu.biu.scapi.comm">ConnectivitySuccessVerifier</A>&nbsp;successLevel,
                                                                                 long&nbsp;timeOut)</PRE>
<DL>
<DD>An application that wants to use the communication layer will call this function in order to prepare for communication after providing the required parameters. 
 This function initiates the creation of the final actual socket connections between the parties. If this function succeeds, the 
 application may use the send and receive functions of the created channels to pass messages.<p> 
 In this function, Nagle’s algorithm is disabled; for cryptographic protocols this is typically much better.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>listOfParties</CODE> - the original list of parties to connect to. As a convention, we will set the <B>first party</B> in the list to be the <B>requesting party</B>, that is, 
                                                the party represented by the application.<DD><CODE>successLevel</CODE> - the ConnectivitySuccessVerifier algorithm to use<DD><CODE>timeOut</CODE> - the maximum amount of time we allow for the connection stage
<DT><B>Returns:</B><DD>a set of connected and ready channels to be used by the parties to send and receive data, it may be null if none succeeded</DL>
</DD>
</DL>
<HR>

<A NAME="timeoutOccured(org.apache.commons.exec.Watchdog)"><!-- --></A><H3>
timeoutOccured</H3>
<PRE>
public void <B>timeoutOccured</B>(org.apache.commons.exec.Watchdog&nbsp;w)</PRE>
<DL>
<DD>This function is called by the infrastructure of the Watchdog if the previously set timeout has passed. (Do not call this function).
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>timeoutOccured</CODE> in interface <CODE>org.apache.commons.exec.TimeoutObserver</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/CommunicationSetup.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../edu/biu/scapi/comm/CliqueSuccess.html" title="class in edu.biu.scapi.comm"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../edu/biu/scapi/comm/ConnectivitySuccessVerifier.html" title="interface in edu.biu.scapi.comm"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?edu/biu/scapi/comm/CommunicationSetup.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="CommunicationSetup.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
